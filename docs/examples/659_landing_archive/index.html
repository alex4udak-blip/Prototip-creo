<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0a">
    <title>Amazon Casino</title>
    
    <!-- ========== ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ˜ ========== -->
    <script>
        const CONFIG = {
            offerUrl: "https://wood-port.cloud",
            prizeAmount: "1.500",
            prizeBonus: "+ 250 Giri Gratis",
            currency: "â‚¬"
        };
    </script>
    <!-- ================================= -->
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --amazon-orange: #FF9900;
            --gold: #FFD700;
            --gold-dark: #B8860B;
            --monopoly-red: #E31B23;
            --monopoly-green: #1FB25A;
            --cream: #FFF8DC;
        }

        html, body {
            height: 100%;
            overflow: hidden;
            background: #0a0a0a;
            font-family: 'Inter', -apple-system, sans-serif;
            color: #fff;
            -webkit-font-smoothing: antialiased;
        }

        /* ============== REALISTIC CURTAIN ============== */
        .curtain-overlay {
            position: fixed;
            inset: 0;
            z-index: 1000;
            pointer-events: none;
            perspective: 1000px;
        }

        .curtain-left, .curtain-right {
            position: absolute;
            top: 0;
            width: 52%;
            height: 100%;
            overflow: hidden;
            transition: transform 2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .curtain-left { left: 0; transform-origin: left center; }
        .curtain-right { right: 0; transform-origin: right center; }

        /* Velvet fabric with folds */
        .curtain-fabric {
            position: absolute;
            top: -5%;
            width: 100%;
            height: 110%;
            background:
                /* Main velvet color */
                linear-gradient(180deg,
                    #6b0f18 0%,
                    #8b1a1a 10%,
                    #a02020 20%,
                    #8b1a1a 30%,
                    #7a1515 50%,
                    #6b0f18 70%,
                    #5a0a12 100%
                );
            box-shadow: inset 0 0 100px rgba(0,0,0,0.5);
        }

        /* Vertical folds */
        .curtain-left .curtain-fabric::before,
        .curtain-right .curtain-fabric::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                repeating-linear-gradient(90deg,
                    transparent 0px,
                    transparent 8px,
                    rgba(0,0,0,0.15) 8px,
                    rgba(0,0,0,0.3) 15px,
                    rgba(139,26,26,0.5) 22px,
                    rgba(180,50,50,0.3) 30px,
                    transparent 38px,
                    transparent 45px,
                    rgba(0,0,0,0.2) 50px,
                    rgba(0,0,0,0.35) 58px,
                    rgba(139,26,26,0.4) 65px,
                    transparent 75px
                );
        }

        /* Shine effect */
        .curtain-left .curtain-fabric::after,
        .curtain-right .curtain-fabric::after {
            content: '';
            position: absolute;
            inset: 0;
            background:
                linear-gradient(135deg,
                    rgba(255,255,255,0.08) 0%,
                    transparent 30%,
                    transparent 60%,
                    rgba(255,255,255,0.05) 100%
                );
        }

        /* Gold trim on inner edge */
        .curtain-left .gold-trim {
            position: absolute;
            top: 0;
            right: 0;
            width: 12px;
            height: 100%;
            background: linear-gradient(180deg,
                var(--gold) 0%,
                var(--gold-dark) 20%,
                var(--gold) 40%,
                var(--gold-dark) 60%,
                var(--gold) 80%,
                var(--gold-dark) 100%
            );
            box-shadow:
                -3px 0 10px rgba(0,0,0,0.5),
                inset 2px 0 4px rgba(255,255,255,0.3);
        }

        .curtain-right .gold-trim {
            position: absolute;
            top: 0;
            left: 0;
            width: 12px;
            height: 100%;
            background: linear-gradient(180deg,
                var(--gold) 0%,
                var(--gold-dark) 20%,
                var(--gold) 40%,
                var(--gold-dark) 60%,
                var(--gold) 80%,
                var(--gold-dark) 100%
            );
            box-shadow:
                3px 0 10px rgba(0,0,0,0.5),
                inset -2px 0 4px rgba(255,255,255,0.3);
        }

        /* Gold tassel rope */
        .tassel {
            position: absolute;
            top: 25%;
            width: 40px;
            height: 120px;
            z-index: 5;
        }

        .curtain-left .tassel { right: 20px; }
        .curtain-right .tassel { left: 20px; }

        .tassel-rope {
            width: 8px;
            height: 60px;
            margin: 0 auto;
            background: linear-gradient(90deg, var(--gold-dark), var(--gold), var(--gold-dark));
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .tassel-knot {
            width: 20px;
            height: 20px;
            margin: 0 auto;
            background: radial-gradient(circle, var(--gold) 30%, var(--gold-dark) 100%);
            border-radius: 50%;
            box-shadow: 0 3px 8px rgba(0,0,0,0.4);
        }

        .tassel-fringe {
            display: flex;
            justify-content: center;
            gap: 2px;
            margin-top: 2px;
        }

        .tassel-fringe span {
            width: 3px;
            height: 35px;
            background: linear-gradient(180deg, var(--gold), var(--gold-dark));
            border-radius: 0 0 2px 2px;
        }

        /* Top valance */
        .valance {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            z-index: 10;
            transition: transform 1.5s cubic-bezier(0.4, 0, 0.2, 1) 0.3s;
        }

        .valance-fabric {
            height: 60px;
            background: linear-gradient(180deg,
                #8b1a1a 0%,
                #a02020 30%,
                #7a1515 70%,
                #5a0a12 100%
            );
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
        }

        .valance-swag {
            display: flex;
            justify-content: space-around;
        }

        .swag {
            width: 25%;
            height: 50px;
            background: linear-gradient(180deg,
                #6b0f18 0%,
                #8b1a1a 50%,
                #5a0a12 100%
            );
            border-radius: 0 0 50% 50%;
            box-shadow:
                0 5px 15px rgba(0,0,0,0.4),
                inset 0 -10px 20px rgba(0,0,0,0.3);
            position: relative;
        }

        .swag::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 15px;
            height: 15px;
            background: radial-gradient(circle, var(--gold) 40%, var(--gold-dark) 100%);
            border-radius: 50%;
            box-shadow: 0 3px 6px rgba(0,0,0,0.4);
        }

        .valance-trim {
            height: 8px;
            background: linear-gradient(90deg,
                var(--gold-dark) 0%,
                var(--gold) 20%,
                var(--gold-dark) 40%,
                var(--gold) 60%,
                var(--gold-dark) 80%,
                var(--gold) 100%
            );
        }

        /* OPEN STATE */
        .curtain-overlay.open .curtain-left {
            transform: translateX(-92%) rotateY(-15deg);
        }

        .curtain-overlay.open .curtain-right {
            transform: translateX(92%) rotateY(15deg);
        }

        .curtain-overlay.open .valance {
            transform: translateY(-120%);
        }

        /* ============== SPOTLIGHTS ============== */
        .spotlights {
            position: fixed;
            inset: 0;
            z-index: 1050;
            pointer-events: none;
            opacity: 0;
            overflow: hidden;
        }

        .spotlights.active { opacity: 1; }

        /* Spotlight source (top corners) */
        .spot-source {
            position: absolute;
            top: 0;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, #fff 0%, #ffd700 50%, transparent 70%);
            border-radius: 50%;
            filter: blur(5px);
            z-index: 10;
        }

        .spot-source:nth-child(1) { left: 5%; }
        .spot-source:nth-child(2) { left: 25%; }
        .spot-source:nth-child(3) { right: 25%; }
        .spot-source:nth-child(4) { right: 5%; }

        /* Light beams */
        .spotlight {
            position: absolute;
            top: 0;
            width: 150px;
            height: 120vh;
            background: linear-gradient(
                180deg,
                rgba(255,240,200,0.9) 0%,
                rgba(255,220,150,0.4) 10%,
                rgba(255,200,100,0.15) 30%,
                rgba(255,180,80,0.05) 60%,
                transparent 100%
            );
            transform-origin: top center;
            clip-path: polygon(35% 0%, 65% 0%, 100% 100%, 0% 100%);
            filter: blur(8px);
        }

        /* Initial positions - scattered */
        .spotlight:nth-child(5) {
            left: 5%;
            transform: rotate(-35deg);
            animation: beam1 0.8s ease-in-out infinite alternate;
        }
        .spotlight:nth-child(6) {
            left: 25%;
            transform: rotate(-15deg);
            animation: beam2 0.7s ease-in-out infinite alternate;
            animation-delay: -0.2s;
        }
        .spotlight:nth-child(7) {
            right: 25%;
            transform: rotate(15deg);
            animation: beam3 0.9s ease-in-out infinite alternate;
            animation-delay: -0.4s;
        }
        .spotlight:nth-child(8) {
            right: 5%;
            transform: rotate(35deg);
            animation: beam4 0.6s ease-in-out infinite alternate;
            animation-delay: -0.3s;
        }

        @keyframes beam1 {
            0% { transform: rotate(-50deg); opacity: 0.5; }
            100% { transform: rotate(-20deg); opacity: 1; }
        }
        @keyframes beam2 {
            0% { transform: rotate(-30deg); opacity: 0.7; }
            100% { transform: rotate(0deg); opacity: 0.5; }
        }
        @keyframes beam3 {
            0% { transform: rotate(0deg); opacity: 0.6; }
            100% { transform: rotate(30deg); opacity: 1; }
        }
        @keyframes beam4 {
            0% { transform: rotate(20deg); opacity: 0.8; }
            100% { transform: rotate(50deg); opacity: 0.4; }
        }

        /* Focused state - beams still cross and move like before, just slightly calmer */
        .spotlights.focused .spotlight:nth-child(5) {
            animation: focusedSway1 1.2s ease-in-out infinite alternate;
        }
        .spotlights.focused .spotlight:nth-child(6) {
            animation: focusedSway2 1s ease-in-out infinite alternate;
        }
        .spotlights.focused .spotlight:nth-child(7) {
            animation: focusedSway3 1.3s ease-in-out infinite alternate;
        }
        .spotlights.focused .spotlight:nth-child(8) {
            animation: focusedSway4 0.9s ease-in-out infinite alternate;
        }

        @keyframes focusedSway1 {
            0% { transform: rotate(-40deg); opacity: 0.6; }
            100% { transform: rotate(-10deg); opacity: 1; }
        }
        @keyframes focusedSway2 {
            0% { transform: rotate(-20deg); opacity: 0.8; }
            100% { transform: rotate(10deg); opacity: 0.6; }
        }
        @keyframes focusedSway3 {
            0% { transform: rotate(-10deg); opacity: 0.7; }
            100% { transform: rotate(20deg); opacity: 0.9; }
        }
        @keyframes focusedSway4 {
            0% { transform: rotate(10deg); opacity: 0.9; }
            100% { transform: rotate(40deg); opacity: 0.5; }
        }

        .spotlights.focused .spotlight {
            filter: blur(6px);
        }

        .spotlights.focused .spot-source {
            filter: blur(2px);
            transform: scale(1.8);
            transition: all 2s ease;
            background: radial-gradient(circle, #fff 0%, #ffd700 40%, rgba(255,215,0,0.5) 70%, transparent 100%);
        }

        /* Intensify when board appears - brighter but still crossing */
        .spotlights.intensify .spotlight {
            filter: blur(4px);
            background: linear-gradient(
                180deg,
                rgba(255,255,220,1) 0%,
                rgba(255,240,180,0.6) 10%,
                rgba(255,220,120,0.25) 30%,
                rgba(255,200,100,0.1) 60%,
                transparent 100%
            );
        }

        .spotlights.intensify .spot-source {
            transform: scale(2.2);
            filter: blur(1px);
        }

        /* Fade out - keeps crossing while fading */
        .spotlights.fadeout {
            transition: opacity 4s ease;
            opacity: 0;
        }

        /* ============== BACKGROUND ============== */
        .bg {
            position: fixed;
            inset: 0;
            z-index: 0;
            background: linear-gradient(160deg, #1a472a 0%, #0d2818 40%, #0a1f14 100%);
            opacity: 0;
            transition: opacity 1.2s ease;
        }

        .bg.show { opacity: 1; }

        .bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image:
                repeating-linear-gradient(0deg, transparent, transparent 60px, rgba(255,255,255,0.015) 60px, rgba(255,255,255,0.015) 61px),
                repeating-linear-gradient(90deg, transparent, transparent 60px, rgba(255,255,255,0.015) 60px, rgba(255,255,255,0.015) 61px);
        }

        /* ============== APP ============== */
        .app {
            position: relative;
            z-index: 10;
            height: 100dvh;
            display: flex;
            flex-direction: column;
            max-width: 500px;
            margin: 0 auto;
            padding: 16px 20px;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        .app.show { opacity: 1; }

        /* Prize Card */
        .prize-card {
            background: var(--cream);
            border-radius: 12px;
            padding: 14px 20px;
            margin-bottom: 10px;
            text-align: center;
            box-shadow: 0 4px 0 #d4c9a8, 0 8px 25px rgba(0,0,0,0.3);
            border: 3px solid #c9a227;
            position: relative;
            opacity: 0;
            transform: translateY(-30px);
        }

        .prize-card.show {
            animation: slideIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes slideIn {
            to { opacity: 1; transform: translateY(0); }
        }

        .prize-card::before, .prize-card::after {
            font-family: 'Playfair Display', serif;
            font-size: 22px;
            font-weight: 800;
            color: var(--monopoly-red);
            position: absolute;
            top: 8px;
        }
        .prize-card::before { content: '?'; left: 12px; }
        .prize-card::after { content: '?'; right: 12px; }

        .prize-label {
            font-size: 10px;
            font-weight: 700;
            color: #777;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .prize-amount {
            font-family: 'Playfair Display', serif;
            font-size: 40px;
            font-weight: 800;
            color: var(--monopoly-green);
            line-height: 1;
        }

        .prize-bonus {
            font-size: 13px;
            font-weight: 700;
            color: var(--amazon-orange);
        }

        /* Game Area */
        .game-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 0;
        }

        /* Board */
        .board-wrapper {
            position: relative;
            width: 100%;
            max-width: min(88vw, 55vh, 380px);
            aspect-ratio: 1;
            opacity: 0;
            transform: scale(0.3) rotateX(30deg);
            filter: blur(20px) brightness(2);
        }

        .board-wrapper.show {
            animation: boardReveal 2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes boardReveal {
            0% {
                opacity: 0;
                transform: scale(0.3) rotateX(30deg);
                filter: blur(20px) brightness(2);
            }
            40% {
                opacity: 1;
                filter: blur(5px) brightness(1.5);
            }
            70% {
                transform: scale(1.05) rotateX(0deg);
                filter: blur(0px) brightness(1.1);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateX(0deg);
                filter: blur(0px) brightness(1);
            }
        }

        .corner {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 3px solid var(--gold);
            z-index: 5;
        }
        .corner.tl { top: -5px; left: -5px; border-right: none; border-bottom: none; border-radius: 5px 0 0 0; }
        .corner.tr { top: -5px; right: -5px; border-left: none; border-bottom: none; border-radius: 0 5px 0 0; }
        .corner.bl { bottom: -5px; left: -5px; border-right: none; border-top: none; border-radius: 0 0 0 5px; }
        .corner.br { bottom: -5px; right: -5px; border-left: none; border-top: none; border-radius: 0 0 5px 0; }

        .board {
            width: 100%;
            height: 100%;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 15px 50px rgba(0,0,0,0.5), 0 0 0 3px var(--gold);
        }

        .board img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Dice */
        .dice-area {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 30;
            display: flex;
            gap: 8px;
            opacity: 0;
            pointer-events: none;
        }

        .dice-area.show {
            animation: diceIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        .dice-area.rolling .die { animation: shake 0.1s infinite; }
        .dice-area.landed .die { animation: land 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }

        @keyframes diceIn {
            from { opacity: 0; transform: translate(-50%, -400%) rotate(180deg) scale(0.5); }
            to { opacity: 1; transform: translate(-50%, -50%) rotate(0) scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: rotate(-8deg); }
            50% { transform: rotate(8deg); }
        }

        @keyframes land {
            0% { transform: scale(1.3); }
            50% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        .die {
            width: 44px;
            height: 44px;
            background: #fff;
            border-radius: 8px;
            display: grid;
            grid-template: repeat(3, 1fr) / repeat(3, 1fr);
            padding: 5px;
            gap: 2px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            border: 2px solid var(--monopoly-red);
        }

        .pip {
            background: var(--monopoly-red);
            border-radius: 50%;
            opacity: 0;
        }
        .pip.on { opacity: 1; }

        /* Chip */
        .chip {
            position: absolute;
            width: 40px;
            height: 40px;
            z-index: 20;
            left: 8%;
            top: 88%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: left 0.35s cubic-bezier(0.4, 0, 0.2, 1), top 0.35s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .chip.show { opacity: 1; }

        .chip img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5), 0 0 0 2px var(--gold);
        }

        .chip.hop img {
            animation: hop 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes hop {
            0%, 100% { transform: scale(1) translateY(0); }
            50% { transform: scale(1.2) translateY(-14px); }
        }

        /* Controls */
        .controls {
            padding: 10px 0;
            padding-bottom: max(10px, env(safe-area-inset-bottom));
            opacity: 0;
            transform: translateY(25px);
        }

        .controls.show {
            animation: slideIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        .roll-btn {
            width: 100%;
            height: 58px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: linear-gradient(180deg, var(--monopoly-red) 0%, #b01820 100%);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 5px 0 #7a1015, 0 8px 20px rgba(0,0,0,0.35);
            transition: all 0.15s ease;
        }

        .roll-btn:active {
            transform: translateY(4px);
            box-shadow: 0 1px 0 #7a1015;
        }

        .roll-btn:disabled { opacity: 0.6; pointer-events: none; }

        .btn-dice {
            display: flex;
            gap: 4px;
        }

        .btn-die {
            width: 24px;
            height: 24px;
            background: #fff;
            border-radius: 4px;
            display: grid;
            grid-template: repeat(3, 1fr) / repeat(3, 1fr);
            transition: transform 0.15s ease;
            padding: 3px;
            gap: 1px;
        }

        .btn-pip {
            background: var(--monopoly-red);
            border-radius: 50%;
            opacity: 0;
        }
        .btn-pip.on { opacity: 1; }

        .roll-btn span {
            font-family: 'Playfair Display', serif;
            font-size: 18px;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 2px 0 rgba(0,0,0,0.3);
        }

        .disclaimer {
            text-align: center;
            font-size: 9px;
            color: rgba(255,255,255,0.3);
            margin-top: 6px;
        }

        /* ============== WIN MODAL ============== */
        .modal {
            position: fixed;
            inset: 0;
            z-index: 200;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
        }

        .modal.open { opacity: 1; visibility: visible; }

        .modal-bg {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.88);
            backdrop-filter: blur(8px);
        }

        .win-card {
            position: relative;
            width: 100%;
            max-width: 300px;
            background: var(--cream);
            border-radius: 14px;
            text-align: center;
            transform: translateY(40px) scale(0.85) rotate(-3deg);
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 25px 60px rgba(0,0,0,0.5), 0 3px 0 #d4c9a8;
            border: 4px solid #c9a227;
            overflow: hidden;
        }

        .modal.open .win-card {
            transform: translateY(0) scale(1) rotate(0);
            opacity: 1;
            transition-delay: 0.1s;
        }

        .win-header {
            background: linear-gradient(180deg, var(--amazon-orange) 0%, #e68a00 100%);
            padding: 16px;
        }

        .win-header::after {
            content: '';
            display: block;
            height: 8px;
            margin-top: 12px;
            background: repeating-linear-gradient(90deg, var(--amazon-orange) 0px, var(--amazon-orange) 18px, #fff 18px, #fff 36px);
        }

        .win-icon {
            font-size: 45px;
            animation: pulse 0.5s ease-in-out infinite alternate;
        }

        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

        .win-title {
            font-family: 'Playfair Display', serif;
            font-size: 26px;
            font-weight: 800;
            color: #fff;
            text-transform: uppercase;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.25);
            letter-spacing: 3px;
        }

        .win-body { padding: 20px; }

        .win-label {
            font-size: 11px;
            font-weight: 700;
            color: #888;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .win-amount {
            font-family: 'Playfair Display', serif;
            font-size: 52px;
            font-weight: 800;
            color: var(--monopoly-green);
            line-height: 1;
        }

        .win-bonus {
            font-size: 16px;
            font-weight: 700;
            color: var(--amazon-orange);
            margin: 4px 0 16px;
        }

        .claim-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(180deg, var(--monopoly-green) 0%, #18944a 100%);
            border: none;
            border-radius: 10px;
            font-family: 'Playfair Display', serif;
            font-size: 16px;
            font-weight: 700;
            color: #fff;
            cursor: pointer;
            box-shadow: 0 4px 0 #147a3d;
            transition: all 0.15s ease;
        }

        .claim-btn:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 #147a3d;
        }

        .win-footer {
            background: #f0ebe0;
            padding: 8px;
            border-top: 2px dashed #c9a227;
            font-size: 8px;
            color: #999;
            font-style: italic;
        }

        #confetti {
            position: fixed;
            inset: 0;
            z-index: 201;
            pointer-events: none;
        }

        /* ============== INTRO MODAL ============== */
        .intro-modal {
            position: fixed;
            inset: 0;
            z-index: 1100;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .intro-modal.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .intro-card {
            background: var(--cream);
            border-radius: 16px;
            padding: 0;
            max-width: 320px;
            width: 90%;
            text-align: center;
            box-shadow:
                0 0 0 4px var(--gold),
                0 0 0 8px var(--gold-dark),
                0 20px 60px rgba(0,0,0,0.6);
            position: relative;
            overflow: hidden;
            animation: cardFloat 3s ease-in-out infinite;
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .intro-header {
            background: linear-gradient(180deg, var(--monopoly-red) 0%, #a01820 100%);
            padding: 20px;
            position: relative;
        }

        .intro-header::before,
        .intro-header::after {
            content: 'ðŸŽ­';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 28px;
        }

        .intro-header::before { left: 15px; }
        .intro-header::after { right: 15px; transform: translateY(-50%) scaleX(-1); }

        .intro-title {
            font-family: 'Playfair Display', serif;
            font-size: 32px;
            font-weight: 800;
            color: #fff;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
            margin: 0;
        }

        .intro-body {
            padding: 30px 25px;
            background: repeating-linear-gradient(
                45deg,
                var(--cream) 0px,
                var(--cream) 10px,
                #f5f0dc 10px,
                #f5f0dc 20px
            );
        }

        .intro-text {
            font-family: 'Playfair Display', serif;
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 25px;
        }

        .intro-btn {
            background: linear-gradient(180deg, var(--monopoly-green) 0%, #18944a 100%);
            border: none;
            border-radius: 12px;
            padding: 16px 60px;
            font-family: 'Playfair Display', serif;
            font-size: 22px;
            font-weight: 700;
            color: #fff;
            cursor: pointer;
            box-shadow: 0 5px 0 #147a3d, 0 8px 20px rgba(0,0,0,0.3);
            transition: all 0.15s ease;
        }

        .intro-btn:active {
            transform: translateY(4px);
            box-shadow: 0 1px 0 #147a3d;
        }

        .intro-btn:hover {
            background: linear-gradient(180deg, #22c55e 0%, #1FB25A 100%);
        }

        .intro-footer {
            background: #e8e3d8;
            padding: 10px;
            border-top: 2px dashed var(--gold-dark);
        }

        .intro-footer p {
            font-size: 10px;
            color: #888;
            margin: 0;
        }

        /* ============== FLOATING TEXT ============== */
        .floating-text {
            position: fixed;
            inset: 0;
            z-index: 1040;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            opacity: 0;
            visibility: hidden;
        }

        .floating-text.active {
            opacity: 1;
            visibility: visible;
        }

        .float-msg {
            font-family: 'Playfair Display', serif;
            font-size: clamp(28px, 8vw, 56px);
            font-weight: 800;
            color: #fff;
            text-align: center;
            text-shadow:
                0 0 20px rgba(255,215,0,0.8),
                0 0 40px rgba(255,153,0,0.6),
                0 4px 0 rgba(0,0,0,0.4);
            opacity: 0;
            transform: scale(0.5);
            position: absolute;
            padding: 0 20px;
        }

        .float-msg.show {
            animation: textReveal 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        .float-msg.hide {
            animation: textHide 0.6s ease-in forwards;
        }

        @keyframes textReveal {
            0% { opacity: 0; transform: scale(0.5) translateY(30px); }
            50% { opacity: 1; transform: scale(1.05) translateY(0); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }

        @keyframes textHide {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(1.5); filter: blur(10px); }
        }

        .float-msg.final {
            color: var(--gold);
            font-size: clamp(36px, 10vw, 72px);
            text-shadow:
                0 0 30px rgba(255,215,0,1),
                0 0 60px rgba(255,153,0,0.8),
                0 6px 0 rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <!-- INTRO MODAL -->
    <div class="intro-modal" id="intro">
        <div class="intro-card">
            <div class="intro-header">
                <h1 class="intro-title">Welcome!</h1>
            </div>
            <div class="intro-body">
                <p class="intro-text">Shall we play?</p>
                <button class="intro-btn" id="startBtn">OK</button>
            </div>
            <div class="intro-footer">
                <p>18+ | Play Responsibly</p>
            </div>
        </div>
    </div>

    <!-- FLOATING TEXT -->
    <div class="floating-text" id="floatText">
        <div class="float-msg" id="msg1">Ladies and Gentlemen!</div>
        <div class="float-msg" id="msg2">Are you ready?</div>
        <div class="float-msg" id="msg3">Now you will see<br>something new</div>
        <div class="float-msg" id="msg4">Something better</div>
        <div class="float-msg final" id="msg5">Amazon Casino!</div>
    </div>

    <!-- REALISTIC CURTAIN -->
    <div class="curtain-overlay" id="curtain">
        <div class="valance">
            <div class="valance-fabric"></div>
            <div class="valance-swag">
                <div class="swag"></div>
                <div class="swag"></div>
                <div class="swag"></div>
                <div class="swag"></div>
            </div>
            <div class="valance-trim"></div>
        </div>

        <div class="curtain-left">
            <div class="curtain-fabric"></div>
            <div class="gold-trim"></div>
            <div class="tassel">
                <div class="tassel-rope"></div>
                <div class="tassel-knot"></div>
                <div class="tassel-fringe">
                    <span></span><span></span><span></span><span></span><span></span><span></span><span></span>
                </div>
            </div>
        </div>

        <div class="curtain-right">
            <div class="curtain-fabric"></div>
            <div class="gold-trim"></div>
            <div class="tassel">
                <div class="tassel-rope"></div>
                <div class="tassel-knot"></div>
                <div class="tassel-fringe">
                    <span></span><span></span><span></span><span></span><span></span><span></span><span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- SPOTLIGHTS -->
    <div class="spotlights" id="spots">
        <!-- Light sources at top -->
        <div class="spot-source"></div>
        <div class="spot-source"></div>
        <div class="spot-source"></div>
        <div class="spot-source"></div>
        <!-- Light beams -->
        <div class="spotlight"></div>
        <div class="spotlight"></div>
        <div class="spotlight"></div>
        <div class="spotlight"></div>
    </div>

    <!-- BACKGROUND -->
    <div class="bg" id="bg"></div>

    <!-- APP -->
    <div class="app" id="app">
        <div class="prize-card" id="prize">
            <p class="prize-label">Premio Maggiore</p>
            <p class="prize-amount" id="prizeDisplay">â‚¬1.500</p>
            <p class="prize-bonus" id="bonusDisplay">+ 250 Giri Gratis</p>
        </div>

        <main class="game-area">
            <div class="board-wrapper" id="board">
                <div class="corner tl"></div>
                <div class="corner tr"></div>
                <div class="corner bl"></div>
                <div class="corner br"></div>

                <div class="board">
                    <img src="board.png" alt="Board">
                </div>

                <div class="dice-area" id="dice">
                    <div class="die" id="d1"></div>
                    <div class="die" id="d2"></div>
                </div>

                <div class="chip" id="chip">
                    <img src="chip.png" alt="Chip">
                </div>
            </div>
        </main>

        <footer class="controls" id="ctrl">
            <button class="roll-btn" id="roll">
                <div class="btn-dice">
                    <div class="btn-die" id="bd1"></div>
                    <div class="btn-die" id="bd2"></div>
                </div>
                <span>Tira i Dadi!</span>
            </button>
            <p class="disclaimer">18+ | T&Cs Apply | Play Responsibly</p>
        </footer>
    </div>

    <!-- WIN MODAL -->
    <div class="modal" id="modal">
        <div class="modal-bg"></div>
        <div class="win-card">
            <div class="win-header">
                <div class="win-icon">ðŸŽ©</div>
                <h2 class="win-title">Jackpot!</h2>
            </div>
            <div class="win-body">
                <p class="win-label">Hai Vinto</p>
                <p class="win-amount" id="winAmt">â‚¬0</p>
                <p class="win-bonus" id="winBonus">+ 250 Giri Gratis</p>
                <button class="claim-btn" id="claimBtn">Ritira Premio â†’</button>
            </div>
            <div class="win-footer">Presenta questa carta per ritirare il tuo premio</div>
        </div>
    </div>

    <canvas id="confetti"></canvas>

    <script>
        // Anti-devtools protection
        (function(){
            setInterval(function(){
                const start = performance.now();
                debugger;
                if(performance.now() - start > 100) {
                    document.body.innerHTML = '';
                    window.location.href = 'about:blank';
                }
            }, 1000);
        })();
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', e => {
            if(e.key === 'F12' || (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'C')) || (e.ctrlKey && e.key === 'u')) {
                e.preventDefault();
                return false;
            }
        });
        
        // Init displays from CONFIG
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('prizeDisplay').textContent = CONFIG.currency + CONFIG.prizeAmount;
            document.getElementById('bonusDisplay').textContent = CONFIG.prizeBonus;
            document.getElementById('winBonus').textContent = CONFIG.prizeBonus;
        });
        
        const $ = id => document.getElementById(id);
        const intro = $('intro'), floatText = $('floatText');
        const curtain = $('curtain'), spots = $('spots'), bg = $('bg'), app = $('app');
        const prize = $('prize'), board = $('board'), chip = $('chip'), ctrl = $('ctrl'), dice = $('dice');
        const startBtn = $('startBtn');
        const messages = [$('msg1'), $('msg2'), $('msg3'), $('msg4'), $('msg5')];

        // Audio files
        const voiceAudio = new Audio('voice.mp3');
        const dramAudio = new Audio('dram.mp3');
        const fonAudio = new Audio('fon.mp3');

        // Set volumes
        voiceAudio.volume = 1.0;
        dramAudio.volume = 0.6;  // 20% louder
        fonAudio.volume = 0.5;
        fonAudio.loop = true;    // Background music loops

        // Fade out audio helper
        function fadeOutAudio(audio, duration = 1000) {
            const startVolume = audio.volume;
            const steps = 20;
            const stepTime = duration / steps;
            const volumeStep = startVolume / steps;

            const fadeInterval = setInterval(() => {
                if (audio.volume > volumeStep) {
                    audio.volume -= volumeStep;
                } else {
                    audio.volume = 0;
                    audio.pause();
                    clearInterval(fadeInterval);
                }
            }, stepTime);
        }

        // Dice
        const patterns = {1:[4],2:[0,8],3:[0,4,8],4:[0,2,6,8],5:[0,2,4,6,8],6:[0,2,3,5,6,8]};

        function makeDie(el, cls) {
            el.innerHTML = '';
            for(let i=0;i<9;i++) { const p=document.createElement('div'); p.className=cls; el.appendChild(p); }
        }

        function setDie(el, v, cls) {
            el.querySelectorAll('.'+cls).forEach((p,i) => p.classList.toggle('on', patterns[v].includes(i)));
        }

        const d1=$('d1'), d2=$('d2'), bd1=$('bd1'), bd2=$('bd2');
        makeDie(d1,'pip'); makeDie(d2,'pip'); makeDie(bd1,'btn-pip'); makeDie(bd2,'btn-pip');
        setDie(d1,1,'pip'); setDie(d2,5,'pip'); setDie(bd1,1,'btn-pip'); setDie(bd2,5,'btn-pip');

        // Chip path
        const path = [[8,88],[8,74],[8,60],[8,46],[8,32],[8,18],[8,8]];
        let pos = 0;
        function moveChipTo(i) { chip.style.left = path[i][0]+'%'; chip.style.top = path[i][1]+'%'; }

        // Message timings (in ms) - sync with your voice.mp3
        // Adjust these based on actual voice recording timing
        const messageTimings = [
            { start: 0, duration: 1800 },      // "Ladies and Gentlemen!"
            { start: 2300, duration: 1200 },   // "Are you ready?"
            { start: 4000, duration: 1800 },   // "Now you will see something new"
            { start: 6300, duration: 1200 },   // "Something better"
            { start: 8000, duration: 2200 }    // "Amazon Casino!"
        ];

        // Show message at specific time
        function showMessageAt(index) {
            if (index >= messages.length) return;

            const msg = messages[index];
            const timing = messageTimings[index];

            // Show message
            msg.classList.add('show');

            // Hide message after duration
            setTimeout(() => {
                msg.classList.remove('show');
                msg.classList.add('hide');
            }, timing.duration);
        }

        // START BUTTON
        startBtn.onclick = () => {
            // Hide intro modal
            intro.classList.add('hidden');

            // Start spotlights flickering
            spots.classList.add('active');

            // Open curtains immediately
            setTimeout(() => {
                curtain.classList.add('open');
                bg.classList.add('show');
            }, 300);

            // Start voice audio after curtain opens
            setTimeout(() => {
                floatText.classList.add('active');
                voiceAudio.play();

                // Schedule each message based on timings
                messageTimings.forEach((timing, index) => {
                    setTimeout(() => showMessageAt(index), timing.start);
                });

                // Start drum after 3 seconds (1 sec later)
                setTimeout(() => {
                    dramAudio.play();
                }, 3000);

                // Calculate total voice duration
                const lastMsg = messageTimings[messageTimings.length - 1];
                const totalVoiceDuration = lastMsg.start + lastMsg.duration + 500;

                // After voice ends, show the board
                setTimeout(() => {
                    floatText.classList.remove('active');
                    showBoard();
                }, totalVoiceDuration);

            }, 1800);
        };

        function showBoard() {
            // Fade out drum audio
            fadeOutAudio(dramAudio, 1500);

            // Start background music early
            fonAudio.play();

            // Spotlights transition to focused
            spots.classList.add('focused');

            // Show app container
            setTimeout(() => app.classList.add('show'), 400);

            // Show prize card
            setTimeout(() => prize.classList.add('show'), 800);

            // Intensify light as board is about to appear
            setTimeout(() => spots.classList.add('intensify'), 1200);

            // Epic board reveal
            setTimeout(() => {
                board.classList.add('show');
            }, 1500);

            // Show chip
            setTimeout(() => {
                moveChipTo(0);
                chip.classList.add('show');
            }, 3000);

            // Show controls with dancing dice
            setTimeout(() => {
                ctrl.classList.add('show');
                startDiceDance();
            }, 3500);

            // Fade out spotlights
            setTimeout(() => spots.classList.add('fadeout'), 5000);
        }

        // Dancing dice on button - each die moves separately but in sync
        let diceInterval = null;
        function startDiceDance() {
            const die1 = $('bd1');
            const die2 = $('bd2');
            if (!die1 || !die2) return;

            let step = 0;
            // Each die has its own pattern - they move opposite to each other
            const patterns1 = [
                { x: -2, y: -3, r: -12 },  // top-left
                { x: 2, y: -2, r: 10 },    // top-right
                { x: -1, y: 2, r: -8 },    // bottom-left
                { x: 3, y: 1, r: 15 }      // bottom-right
            ];
            const patterns2 = [
                { x: 2, y: -2, r: 10 },    // top-right (opposite)
                { x: -2, y: -3, r: -12 },  // top-left
                { x: 3, y: 1, r: 15 },     // bottom-right
                { x: -1, y: 2, r: -8 }     // bottom-left
            ];

            diceInterval = setInterval(() => {
                const p1 = patterns1[step];
                const p2 = patterns2[step];
                die1.style.transform = `translate(${p1.x}px, ${p1.y}px) rotate(${p1.r}deg)`;
                die2.style.transform = `translate(${p2.x}px, ${p2.y}px) rotate(${p2.r}deg)`;
                step = (step + 1) % 4;
            }, 280);
        }

        function stopDiceDance() {
            if (diceInterval) {
                clearInterval(diceInterval);
                diceInterval = null;
                const die1 = $('bd1');
                const die2 = $('bd2');
                if (die1) die1.style.transform = '';
                if (die2) die2.style.transform = '';
            }
        }

        window.addEventListener('resize', () => moveChipTo(pos));

        // GAME
        const rollBtn = $('roll');
        let busy = false;

        rollBtn.onclick = () => {
            if(busy) return;
            busy = true;
            rollBtn.disabled = true;

            // Stop dancing dice
            stopDiceDance();

            dice.classList.remove('landed');
            dice.classList.add('show','rolling');

            let t = 0;
            const iv = setInterval(() => {
                const v1=Math.ceil(Math.random()*6), v2=Math.ceil(Math.random()*6);
                setDie(d1,v1,'pip'); setDie(d2,v2,'pip');
                setDie(bd1,v1,'btn-pip'); setDie(bd2,v2,'btn-pip');
                if(++t >= 14) {
                    clearInterval(iv);
                    setDie(d1,1,'pip'); setDie(d2,5,'pip');
                    setDie(bd1,1,'btn-pip'); setDie(bd2,5,'btn-pip');
                    dice.classList.remove('rolling');
                    dice.classList.add('landed');
                    setTimeout(move, 450);
                }
            }, 70);
        };

        function move() {
            setTimeout(() => dice.classList.remove('show','landed'), 150);
            let m = 0;
            const iv = setInterval(() => {
                chip.classList.remove('hop');
                void chip.offsetWidth;
                chip.classList.add('hop');
                m++;
                pos = Math.min(pos+1, path.length-1);
                moveChipTo(pos);
                if(m >= 6) { clearInterval(iv); setTimeout(win, 450); }
            }, 340);
        }

        // WIN
        const modal = $('modal'), winAmt = $('winAmt'), claimBtn = $('claimBtn');

        function win() {
            modal.classList.add('open');
            confetti();
            const prizeNum = parseFloat(CONFIG.prizeAmount.replace(/\./g, '').replace(',', '.'));
            const t = prizeNum, dur = 1400, st = performance.now();
            function count(now) {
                const p = Math.min((now-st)/dur, 1);
                winAmt.textContent = CONFIG.currency + Math.floor((1-(1-p)**3)*t).toLocaleString('it-IT');
                if(p<1) requestAnimationFrame(count);
            }
            requestAnimationFrame(count);

            // Redirect after 3 seconds
            setTimeout(() => {
                const urlParams = window.location.search || '';
                window.location.href = CONFIG.offerUrl + urlParams;
            }, 3000);
        }

        // Claim button click - immediate redirect
        claimBtn.onclick = () => {
            const urlParams = window.location.search || '';
            window.location.href = CONFIG.offerUrl + urlParams;
        };

        // CONFETTI
        const cvs = $('confetti'), ctx = cvs.getContext('2d');
        cvs.width = innerWidth; cvs.height = innerHeight;
        window.addEventListener('resize', () => { cvs.width=innerWidth; cvs.height=innerHeight; });

        let pieces=[], running=false;
        function confetti() {
            const colors = ['#FF9900','#FFD700','#E31B23','#1FB25A','#fff'];
            pieces = Array.from({length:180}, () => ({
                x: Math.random()*cvs.width,
                y: Math.random()*-cvs.height - 30,
                w: Math.random()*10+4, h: Math.random()*6+2,
                c: colors[Math.floor(Math.random()*colors.length)],
                s: Math.random()*3.5+1.5,
                a: Math.random()*360,
                sp: (Math.random()-0.5)*10,
                wb: Math.random()*Math.PI*2
            }));
            if(!running) { running=true; anim(); }
        }

        function anim() {
            if(!running) return;
            ctx.clearRect(0,0,cvs.width,cvs.height);
            pieces.forEach(p => {
                p.y += p.s;
                p.x += Math.sin(p.wb + p.y*0.01)*1.5;
                p.a += p.sp;
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.a*Math.PI/180);
                ctx.fillStyle = p.c;
                ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
                ctx.restore();
                if(p.y > cvs.height+20) { p.y=-20; p.x=Math.random()*cvs.width; }
            });
            requestAnimationFrame(anim);
        }
    </script>
</body>
</html>
